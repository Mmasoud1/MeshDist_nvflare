2024-10-08 01:24:47,370 - SimulatorRunner - INFO - Create the Simulator Server.
2024-10-08 01:24:47,374 - CoreCell - INFO - server: creating listener on tcp://0:35073
2024-10-08 01:24:47,392 - CoreCell - INFO - server: created backbone external listener for tcp://0:35073
2024-10-08 01:24:47,392 - ConnectorManager - INFO - 14684: Try start_listener Listener resources: {'secure': False, 'host': 'localhost'}
2024-10-08 01:24:47,393 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00002 PASSIVE tcp://0:19015] is starting
2024-10-08 01:24:47,894 - CoreCell - INFO - server: created backbone internal listener for tcp://localhost:19015
2024-10-08 01:24:47,894 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 PASSIVE tcp://0:35073] is starting
2024-10-08 01:24:47,972 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 57899
2024-10-08 01:24:47,972 - SimulatorRunner - INFO - Deploy the Apps.
2024-10-08 01:24:47,974 - SimulatorRunner - INFO - Create the simulate clients.
2024-10-08 01:24:47,977 - ClientManager - INFO - Client: New client site-1@192.168.0.105 joined. Sent token: 75fef0f7-6e87-4857-bf46-cc781e4cee6c.  Total clients: 1
2024-10-08 01:24:47,978 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:75fef0f7-6e87-4857-bf46-cc781e4cee6c SSID:
2024-10-08 01:24:47,979 - ClientManager - INFO - Client: New client site-2@192.168.0.105 joined. Sent token: 7a1a96d0-9c5f-4344-beeb-e46053f29476.  Total clients: 2
2024-10-08 01:24:47,979 - FederatedClient - INFO - Successfully registered client:site-2 for project simulator_server. Token:7a1a96d0-9c5f-4344-beeb-e46053f29476 SSID:
2024-10-08 01:24:47,979 - SimulatorRunner - INFO - Set the client status ready.
2024-10-08 01:24:47,979 - SimulatorRunner - INFO - Deploy and start the Server App.
2024-10-08 01:24:47,980 - Cell - INFO - Register blob CB for channel='server_command', topic='*'
2024-10-08 01:24:47,981 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2024-10-08 01:24:47,981 - ServerCommandAgent - INFO - ServerCommandAgent cell register_request_cb: server.simulate_job
2024-10-08 01:24:49,869 - numexpr.utils - INFO - Note: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2024-10-08 01:24:49,869 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2024-10-08 01:24:51,390 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2024-10-08 01:24:51,391 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow gradient_aggregation_workflow (<class 'workflow.gradient_aggregation_workflow.GradientAggregationWorkflow'>) ...
2024-10-08 01:24:51,391 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Workflow gradient_aggregation_workflow (<class 'workflow.gradient_aggregation_workflow.GradientAggregationWorkflow'>) started
2024-10-08 01:24:51,391 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Starting round 1/4
2024-10-08 01:24:51,391 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task train_and_get_gradients
2024-10-08 01:24:52,026 - SimulatorClientRunner - INFO - Start the clients run simulation.
2024-10-08 01:24:53,029 - SimulatorClientRunner - INFO - Simulate Run client: site-1 on GPU group: None
2024-10-08 01:24:53,029 - SimulatorClientRunner - INFO - Simulate Run client: site-2 on GPU group: None
2024-10-08 01:24:54,118 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00005 127.0.0.1:35073 <= 127.0.0.1:56690] is created: PID: 14684
2024-10-08 01:24:54,121 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00006 127.0.0.1:35073 <= 127.0.0.1:56694] is created: PID: 14684
2024-10-08 01:24:59,624 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=55c0c7b4-ba89-4e2a-be04-533c54b87f23]: assigned task to client site-2: name=train_and_get_gradients, id=55c0c7b4-ba89-4e2a-be04-533c54b87f23
2024-10-08 01:24:59,625 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=55c0c7b4-ba89-4e2a-be04-533c54b87f23]: sent task assignment to client. client_name:site-2 task_id:55c0c7b4-ba89-4e2a-be04-533c54b87f23
2024-10-08 01:24:59,625 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: train_and_get_gradients   task_id: 55c0c7b4-ba89-4e2a-be04-533c54b87f23  sharable_header_task_id: 55c0c7b4-ba89-4e2a-be04-533c54b87f23
2024-10-08 01:24:59,628 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=393f5666-a050-4d48-bc7c-49875f504d86]: assigned task to client site-1: name=train_and_get_gradients, id=393f5666-a050-4d48-bc7c-49875f504d86
2024-10-08 01:24:59,629 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=393f5666-a050-4d48-bc7c-49875f504d86]: sent task assignment to client. client_name:site-1 task_id:393f5666-a050-4d48-bc7c-49875f504d86
2024-10-08 01:24:59,629 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train_and_get_gradients   task_id: 393f5666-a050-4d48-bc7c-49875f504d86  sharable_header_task_id: 393f5666-a050-4d48-bc7c-49875f504d86
2024-10-08 01:26:13,735 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train_and_get_gradients, id=393f5666-a050-4d48-bc7c-49875f504d86
2024-10-08 01:26:13,736 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=393f5666-a050-4d48-bc7c-49875f504d86]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:26:13,737 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:393f5666-a050-4d48-bc7c-49875f504d86
2024-10-08 01:26:13,749 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train_and_get_gradients, id=55c0c7b4-ba89-4e2a-be04-533c54b87f23
2024-10-08 01:26:13,749 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=55c0c7b4-ba89-4e2a-be04-533c54b87f23]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:26:13,750 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:55c0c7b4-ba89-4e2a-be04-533c54b87f23
2024-10-08 01:26:13,996 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task train_and_get_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:26:14,480 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Start gradient aggregation.
2024-10-08 01:26:14,484 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: End gradient aggregation.
2024-10-08 01:26:14,485 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task accept_aggregated_gradients
2024-10-08 01:26:15,758 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=f7bc958b-5d0b-450b-9885-982713879b62]: assigned task to client site-1: name=accept_aggregated_gradients, id=f7bc958b-5d0b-450b-9885-982713879b62
2024-10-08 01:26:15,762 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=f7bc958b-5d0b-450b-9885-982713879b62]: sent task assignment to client. client_name:site-1 task_id:f7bc958b-5d0b-450b-9885-982713879b62
2024-10-08 01:26:15,763 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: accept_aggregated_gradients   task_id: f7bc958b-5d0b-450b-9885-982713879b62  sharable_header_task_id: f7bc958b-5d0b-450b-9885-982713879b62
2024-10-08 01:26:15,775 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=bb2fce8a-b089-44cb-a63a-272822849493]: assigned task to client site-2: name=accept_aggregated_gradients, id=bb2fce8a-b089-44cb-a63a-272822849493
2024-10-08 01:26:15,777 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=bb2fce8a-b089-44cb-a63a-272822849493]: sent task assignment to client. client_name:site-2 task_id:bb2fce8a-b089-44cb-a63a-272822849493
2024-10-08 01:26:15,778 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: accept_aggregated_gradients   task_id: bb2fce8a-b089-44cb-a63a-272822849493  sharable_header_task_id: bb2fce8a-b089-44cb-a63a-272822849493
2024-10-08 01:26:16,020 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=accept_aggregated_gradients, id=f7bc958b-5d0b-450b-9885-982713879b62
2024-10-08 01:26:16,021 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=f7bc958b-5d0b-450b-9885-982713879b62]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:26:16,021 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:f7bc958b-5d0b-450b-9885-982713879b62
2024-10-08 01:26:16,030 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=accept_aggregated_gradients, id=bb2fce8a-b089-44cb-a63a-272822849493
2024-10-08 01:26:16,030 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=bb2fce8a-b089-44cb-a63a-272822849493]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:26:16,031 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:bb2fce8a-b089-44cb-a63a-272822849493
2024-10-08 01:26:16,501 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task accept_aggregated_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:26:16,988 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Starting round 2/4
2024-10-08 01:26:16,989 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task train_and_get_gradients
2024-10-08 01:26:18,030 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=0774aed9-1548-4a9c-97e6-c09ed00d381b]: assigned task to client site-1: name=train_and_get_gradients, id=0774aed9-1548-4a9c-97e6-c09ed00d381b
2024-10-08 01:26:18,031 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=0774aed9-1548-4a9c-97e6-c09ed00d381b]: sent task assignment to client. client_name:site-1 task_id:0774aed9-1548-4a9c-97e6-c09ed00d381b
2024-10-08 01:26:18,032 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train_and_get_gradients   task_id: 0774aed9-1548-4a9c-97e6-c09ed00d381b  sharable_header_task_id: 0774aed9-1548-4a9c-97e6-c09ed00d381b
2024-10-08 01:26:18,037 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=79560e02-7faa-45eb-818e-dd82ee81fbb4]: assigned task to client site-2: name=train_and_get_gradients, id=79560e02-7faa-45eb-818e-dd82ee81fbb4
2024-10-08 01:26:18,037 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=79560e02-7faa-45eb-818e-dd82ee81fbb4]: sent task assignment to client. client_name:site-2 task_id:79560e02-7faa-45eb-818e-dd82ee81fbb4
2024-10-08 01:26:18,037 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: train_and_get_gradients   task_id: 79560e02-7faa-45eb-818e-dd82ee81fbb4  sharable_header_task_id: 79560e02-7faa-45eb-818e-dd82ee81fbb4
2024-10-08 01:27:33,566 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train_and_get_gradients, id=0774aed9-1548-4a9c-97e6-c09ed00d381b
2024-10-08 01:27:33,576 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train_and_get_gradients, id=79560e02-7faa-45eb-818e-dd82ee81fbb4
2024-10-08 01:27:33,577 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=0774aed9-1548-4a9c-97e6-c09ed00d381b]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:27:33,577 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:0774aed9-1548-4a9c-97e6-c09ed00d381b
2024-10-08 01:27:33,577 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=79560e02-7faa-45eb-818e-dd82ee81fbb4]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:27:33,578 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:79560e02-7faa-45eb-818e-dd82ee81fbb4
2024-10-08 01:27:33,601 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task train_and_get_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:27:34,077 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Start gradient aggregation.
2024-10-08 01:27:34,080 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: End gradient aggregation.
2024-10-08 01:27:34,081 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task accept_aggregated_gradients
2024-10-08 01:27:35,591 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=effe28f5-e53d-452a-8960-c17edd9fcbb6]: assigned task to client site-1: name=accept_aggregated_gradients, id=effe28f5-e53d-452a-8960-c17edd9fcbb6
2024-10-08 01:27:35,594 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=effe28f5-e53d-452a-8960-c17edd9fcbb6]: sent task assignment to client. client_name:site-1 task_id:effe28f5-e53d-452a-8960-c17edd9fcbb6
2024-10-08 01:27:35,595 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: accept_aggregated_gradients   task_id: effe28f5-e53d-452a-8960-c17edd9fcbb6  sharable_header_task_id: effe28f5-e53d-452a-8960-c17edd9fcbb6
2024-10-08 01:27:35,596 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=8e08f3f1-1e9c-46b7-ada3-528fb903c3b6]: assigned task to client site-2: name=accept_aggregated_gradients, id=8e08f3f1-1e9c-46b7-ada3-528fb903c3b6
2024-10-08 01:27:35,603 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=8e08f3f1-1e9c-46b7-ada3-528fb903c3b6]: sent task assignment to client. client_name:site-2 task_id:8e08f3f1-1e9c-46b7-ada3-528fb903c3b6
2024-10-08 01:27:35,603 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: accept_aggregated_gradients   task_id: 8e08f3f1-1e9c-46b7-ada3-528fb903c3b6  sharable_header_task_id: 8e08f3f1-1e9c-46b7-ada3-528fb903c3b6
2024-10-08 01:27:35,787 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=accept_aggregated_gradients, id=effe28f5-e53d-452a-8960-c17edd9fcbb6
2024-10-08 01:27:35,788 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=effe28f5-e53d-452a-8960-c17edd9fcbb6]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:27:35,788 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:effe28f5-e53d-452a-8960-c17edd9fcbb6
2024-10-08 01:27:35,790 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=accept_aggregated_gradients, id=8e08f3f1-1e9c-46b7-ada3-528fb903c3b6
2024-10-08 01:27:35,790 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=8e08f3f1-1e9c-46b7-ada3-528fb903c3b6]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:27:35,790 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:8e08f3f1-1e9c-46b7-ada3-528fb903c3b6
2024-10-08 01:27:36,106 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task accept_aggregated_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:27:36,584 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Starting round 3/4
2024-10-08 01:27:36,585 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task train_and_get_gradients
2024-10-08 01:27:37,803 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=d1126db2-7b01-4338-a711-02c13971dd88]: assigned task to client site-1: name=train_and_get_gradients, id=d1126db2-7b01-4338-a711-02c13971dd88
2024-10-08 01:27:37,805 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=d1126db2-7b01-4338-a711-02c13971dd88]: sent task assignment to client. client_name:site-1 task_id:d1126db2-7b01-4338-a711-02c13971dd88
2024-10-08 01:27:37,806 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train_and_get_gradients   task_id: d1126db2-7b01-4338-a711-02c13971dd88  sharable_header_task_id: d1126db2-7b01-4338-a711-02c13971dd88
2024-10-08 01:27:37,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=47177002-98ad-4f47-92a3-c63567fd7c2b]: assigned task to client site-2: name=train_and_get_gradients, id=47177002-98ad-4f47-92a3-c63567fd7c2b
2024-10-08 01:27:37,808 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=47177002-98ad-4f47-92a3-c63567fd7c2b]: sent task assignment to client. client_name:site-2 task_id:47177002-98ad-4f47-92a3-c63567fd7c2b
2024-10-08 01:27:37,808 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: train_and_get_gradients   task_id: 47177002-98ad-4f47-92a3-c63567fd7c2b  sharable_header_task_id: 47177002-98ad-4f47-92a3-c63567fd7c2b
2024-10-08 01:28:51,470 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train_and_get_gradients, id=47177002-98ad-4f47-92a3-c63567fd7c2b
2024-10-08 01:28:51,470 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=47177002-98ad-4f47-92a3-c63567fd7c2b]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:28:51,471 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:47177002-98ad-4f47-92a3-c63567fd7c2b
2024-10-08 01:28:51,542 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train_and_get_gradients, id=d1126db2-7b01-4338-a711-02c13971dd88
2024-10-08 01:28:51,543 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=d1126db2-7b01-4338-a711-02c13971dd88]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:28:51,543 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:d1126db2-7b01-4338-a711-02c13971dd88
2024-10-08 01:28:51,703 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task train_and_get_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:28:52,167 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Start gradient aggregation.
2024-10-08 01:28:52,170 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: End gradient aggregation.
2024-10-08 01:28:52,171 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task accept_aggregated_gradients
2024-10-08 01:28:53,482 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=517f8813-5e60-466d-a9d8-feca09457463]: assigned task to client site-2: name=accept_aggregated_gradients, id=517f8813-5e60-466d-a9d8-feca09457463
2024-10-08 01:28:53,484 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=517f8813-5e60-466d-a9d8-feca09457463]: sent task assignment to client. client_name:site-2 task_id:517f8813-5e60-466d-a9d8-feca09457463
2024-10-08 01:28:53,485 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: accept_aggregated_gradients   task_id: 517f8813-5e60-466d-a9d8-feca09457463  sharable_header_task_id: 517f8813-5e60-466d-a9d8-feca09457463
2024-10-08 01:28:53,549 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=02ab735e-51ab-4476-b362-dd01e1a58536]: assigned task to client site-1: name=accept_aggregated_gradients, id=02ab735e-51ab-4476-b362-dd01e1a58536
2024-10-08 01:28:53,550 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=02ab735e-51ab-4476-b362-dd01e1a58536]: sent task assignment to client. client_name:site-1 task_id:02ab735e-51ab-4476-b362-dd01e1a58536
2024-10-08 01:28:53,550 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: accept_aggregated_gradients   task_id: 02ab735e-51ab-4476-b362-dd01e1a58536  sharable_header_task_id: 02ab735e-51ab-4476-b362-dd01e1a58536
2024-10-08 01:28:53,655 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=accept_aggregated_gradients, id=517f8813-5e60-466d-a9d8-feca09457463
2024-10-08 01:28:53,656 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=517f8813-5e60-466d-a9d8-feca09457463]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:28:53,656 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:517f8813-5e60-466d-a9d8-feca09457463
2024-10-08 01:28:53,721 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=accept_aggregated_gradients, id=02ab735e-51ab-4476-b362-dd01e1a58536
2024-10-08 01:28:53,722 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=02ab735e-51ab-4476-b362-dd01e1a58536]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:28:53,722 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:02ab735e-51ab-4476-b362-dd01e1a58536
2024-10-08 01:28:54,208 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task accept_aggregated_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:28:54,674 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Starting round 4/4
2024-10-08 01:28:54,675 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task train_and_get_gradients
2024-10-08 01:28:55,668 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=47dd1f84-0a09-47fb-abae-9eb146b55947]: assigned task to client site-2: name=train_and_get_gradients, id=47dd1f84-0a09-47fb-abae-9eb146b55947
2024-10-08 01:28:55,670 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=47dd1f84-0a09-47fb-abae-9eb146b55947]: sent task assignment to client. client_name:site-2 task_id:47dd1f84-0a09-47fb-abae-9eb146b55947
2024-10-08 01:28:55,670 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: train_and_get_gradients   task_id: 47dd1f84-0a09-47fb-abae-9eb146b55947  sharable_header_task_id: 47dd1f84-0a09-47fb-abae-9eb146b55947
2024-10-08 01:28:55,728 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=98c0de18-767f-4995-9d38-5ea9e3633514]: assigned task to client site-1: name=train_and_get_gradients, id=98c0de18-767f-4995-9d38-5ea9e3633514
2024-10-08 01:28:55,729 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=98c0de18-767f-4995-9d38-5ea9e3633514]: sent task assignment to client. client_name:site-1 task_id:98c0de18-767f-4995-9d38-5ea9e3633514
2024-10-08 01:28:55,729 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train_and_get_gradients   task_id: 98c0de18-767f-4995-9d38-5ea9e3633514  sharable_header_task_id: 98c0de18-767f-4995-9d38-5ea9e3633514
2024-10-08 01:30:07,973 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=train_and_get_gradients, id=47dd1f84-0a09-47fb-abae-9eb146b55947
2024-10-08 01:30:07,974 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=47dd1f84-0a09-47fb-abae-9eb146b55947]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:30:07,974 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:47dd1f84-0a09-47fb-abae-9eb146b55947
2024-10-08 01:30:08,060 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=train_and_get_gradients, id=98c0de18-767f-4995-9d38-5ea9e3633514
2024-10-08 01:30:08,061 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=train_and_get_gradients, task_id=98c0de18-767f-4995-9d38-5ea9e3633514]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:30:08,061 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:98c0de18-767f-4995-9d38-5ea9e3633514
2024-10-08 01:30:08,302 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task train_and_get_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:30:08,756 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Start gradient aggregation.
2024-10-08 01:30:08,759 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: End gradient aggregation.
2024-10-08 01:30:08,760 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task accept_aggregated_gradients
2024-10-08 01:30:09,985 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=c827dd5e-4737-4b57-a834-2afe34476d90]: assigned task to client site-2: name=accept_aggregated_gradients, id=c827dd5e-4737-4b57-a834-2afe34476d90
2024-10-08 01:30:09,987 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=c827dd5e-4737-4b57-a834-2afe34476d90]: sent task assignment to client. client_name:site-2 task_id:c827dd5e-4737-4b57-a834-2afe34476d90
2024-10-08 01:30:09,988 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: accept_aggregated_gradients   task_id: c827dd5e-4737-4b57-a834-2afe34476d90  sharable_header_task_id: c827dd5e-4737-4b57-a834-2afe34476d90
2024-10-08 01:30:10,067 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=5679f5bf-8b59-4bcd-86ca-c21dfaafa653]: assigned task to client site-1: name=accept_aggregated_gradients, id=5679f5bf-8b59-4bcd-86ca-c21dfaafa653
2024-10-08 01:30:10,068 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=accept_aggregated_gradients, task_id=5679f5bf-8b59-4bcd-86ca-c21dfaafa653]: sent task assignment to client. client_name:site-1 task_id:5679f5bf-8b59-4bcd-86ca-c21dfaafa653
2024-10-08 01:30:10,068 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: accept_aggregated_gradients   task_id: 5679f5bf-8b59-4bcd-86ca-c21dfaafa653  sharable_header_task_id: 5679f5bf-8b59-4bcd-86ca-c21dfaafa653
2024-10-08 01:30:10,158 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: got result from client site-2 for task: name=accept_aggregated_gradients, id=c827dd5e-4737-4b57-a834-2afe34476d90
2024-10-08 01:30:10,159 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=c827dd5e-4737-4b57-a834-2afe34476d90]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:30:10,159 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-2   task_id:c827dd5e-4737-4b57-a834-2afe34476d90
2024-10-08 01:30:10,232 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: got result from client site-1 for task: name=accept_aggregated_gradients, id=5679f5bf-8b59-4bcd-86ca-c21dfaafa653
2024-10-08 01:30:10,233 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, peer_rc=OK, task_name=accept_aggregated_gradients, task_id=5679f5bf-8b59-4bcd-86ca-c21dfaafa653]: finished processing client result by gradient_aggregation_workflow
2024-10-08 01:30:10,233 - SubmitUpdateCommand - INFO - submit_update process. client_name:site-1   task_id:5679f5bf-8b59-4bcd-86ca-c21dfaafa653
2024-10-08 01:30:10,306 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: task accept_aggregated_gradients exit with status TaskCompletionStatus.OK
2024-10-08 01:30:10,763 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Workflow: gradient_aggregation_workflow finalizing ...
2024-10-08 01:30:10,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: ABOUT_TO_END_RUN fired
2024-10-08 01:30:10,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Firing CHECK_END_RUN_READINESS ...
2024-10-08 01:30:10,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: END_RUN fired
2024-10-08 01:30:10,807 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Server runner finished.
2024-10-08 01:30:12,165 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job]: server runner is finalizing - asked client to end the run
2024-10-08 01:30:12,165 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: __end_run__   task_id:   sharable_header_task_id: 
2024-10-08 01:30:12,211 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00006 Not Connected] is closed PID: 14684
2024-10-08 01:30:12,239 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job]: server runner is finalizing - asked client to end the run
2024-10-08 01:30:12,239 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: __end_run__   task_id:   sharable_header_task_id: 
2024-10-08 01:30:12,287 - FederatedClient - INFO - Shutting down client run: site-1
2024-10-08 01:30:12,290 - FederatedClient - INFO - Shutting down client run: site-2
2024-10-08 01:30:12,292 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: asked to abort - triggered abort_signal to stop the RUN
2024-10-08 01:30:12,292 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00005 Not Connected] is closed PID: 14684
2024-10-08 01:30:12,700 - SimulatorServer - INFO - Server app stopped.


2024-10-08 01:30:13,184 - nvflare.fuel.hci.server.hci - INFO - Admin Server localhost on Port 57899 shutdown!
2024-10-08 01:30:13,185 - SimulatorServer - INFO - shutting down server
2024-10-08 01:30:13,185 - SimulatorServer - INFO - canceling sync locks
2024-10-08 01:30:13,186 - SimulatorServer - INFO - server off
2024-10-08 01:30:16,689 - MPM - WARNING - #### MPM: still running thread Thread-8
2024-10-08 01:30:16,690 - MPM - INFO - MPM: Good Bye!
