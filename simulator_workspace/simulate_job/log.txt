2024-09-12 15:44:54,404 - SimulatorRunner - INFO - Create the Simulator Server.
2024-09-12 15:44:54,409 - CoreCell - INFO - server: creating listener on tcp://0:46239
2024-09-12 15:44:54,430 - CoreCell - INFO - server: created backbone external listener for tcp://0:46239
2024-09-12 15:44:54,431 - ConnectorManager - INFO - 31509: Try start_listener Listener resources: {'secure': False, 'host': 'localhost'}
2024-09-12 15:44:54,432 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00002 PASSIVE tcp://0:6687] is starting
2024-09-12 15:44:54,933 - CoreCell - INFO - server: created backbone internal listener for tcp://localhost:6687
2024-09-12 15:44:54,934 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 PASSIVE tcp://0:46239] is starting
2024-09-12 15:44:55,086 - nvflare.fuel.hci.server.hci - INFO - Starting Admin Server localhost on Port 41259
2024-09-12 15:44:55,087 - SimulatorRunner - INFO - Deploy the Apps.
2024-09-12 15:44:55,089 - SimulatorRunner - INFO - Create the simulate clients.
2024-09-12 15:44:55,093 - ClientManager - INFO - Client: New client site-1@192.168.0.105 joined. Sent token: 68fb62f0-6f32-4e72-954f-396c66d891bf.  Total clients: 1
2024-09-12 15:44:55,093 - FederatedClient - INFO - Successfully registered client:site-1 for project simulator_server. Token:68fb62f0-6f32-4e72-954f-396c66d891bf SSID:
2024-09-12 15:44:55,095 - ClientManager - INFO - Client: New client site-2@192.168.0.105 joined. Sent token: 4a4520cf-1276-439c-9dbc-820ffcb5a090.  Total clients: 2
2024-09-12 15:44:55,095 - FederatedClient - INFO - Successfully registered client:site-2 for project simulator_server. Token:4a4520cf-1276-439c-9dbc-820ffcb5a090 SSID:
2024-09-12 15:44:55,096 - SimulatorRunner - INFO - Set the client status ready.
2024-09-12 15:44:55,096 - SimulatorRunner - INFO - Deploy and start the Server App.
2024-09-12 15:44:55,097 - Cell - INFO - Register blob CB for channel='server_command', topic='*'
2024-09-12 15:44:55,097 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2024-09-12 15:44:55,097 - ServerCommandAgent - INFO - ServerCommandAgent cell register_request_cb: server.simulate_job
2024-09-12 15:44:57,149 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: Server runner starting ...
2024-09-12 15:44:57,150 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job]: starting workflow gradient_aggregation_workflow (<class 'workflow.gradient_aggregation_workflow.GradientAggregationWorkflow'>) ...
2024-09-12 15:44:57,150 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: Workflow gradient_aggregation_workflow (<class 'workflow.gradient_aggregation_workflow.GradientAggregationWorkflow'>) started
2024-09-12 15:44:57,150 - GradientAggregationWorkflow - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow]: scheduled task train_and_get_gradients
2024-09-12 15:44:58,104 - SimulatorClientRunner - INFO - Start the clients run simulation.
2024-09-12 15:44:59,106 - SimulatorClientRunner - INFO - Simulate Run client: site-1 on GPU group: None
2024-09-12 15:44:59,107 - SimulatorClientRunner - INFO - Simulate Run client: site-2 on GPU group: None
2024-09-12 15:45:00,274 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00005 127.0.0.1:46239 <= 127.0.0.1:48480] is created: PID: 31509
2024-09-12 15:45:00,277 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00006 127.0.0.1:46239 <= 127.0.0.1:48492] is created: PID: 31509
2024-09-12 15:45:09,073 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=8878a882-c987-42af-bb78-474b4c80945c]: assigned task to client site-2: name=train_and_get_gradients, id=8878a882-c987-42af-bb78-474b4c80945c
2024-09-12 15:45:09,074 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-2, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=8878a882-c987-42af-bb78-474b4c80945c]: sent task assignment to client. client_name:site-2 task_id:8878a882-c987-42af-bb78-474b4c80945c
2024-09-12 15:45:09,074 - GetTaskCommand - INFO - return task to client.  client_name: site-2  task_name: train_and_get_gradients   task_id: 8878a882-c987-42af-bb78-474b4c80945c  sharable_header_task_id: 8878a882-c987-42af-bb78-474b4c80945c
2024-09-12 15:45:09,076 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=21eb801a-3fce-4d91-bece-fe5c3c3d42f1]: assigned task to client site-1: name=train_and_get_gradients, id=21eb801a-3fce-4d91-bece-fe5c3c3d42f1
2024-09-12 15:45:09,076 - ServerRunner - INFO - [identity=simulator_server, run=simulate_job, wf=gradient_aggregation_workflow, peer=site-1, peer_run=simulate_job, task_name=train_and_get_gradients, task_id=21eb801a-3fce-4d91-bece-fe5c3c3d42f1]: sent task assignment to client. client_name:site-1 task_id:21eb801a-3fce-4d91-bece-fe5c3c3d42f1
2024-09-12 15:45:09,077 - GetTaskCommand - INFO - return task to client.  client_name: site-1  task_name: train_and_get_gradients   task_id: 21eb801a-3fce-4d91-bece-fe5c3c3d42f1  sharable_header_task_id: 21eb801a-3fce-4d91-bece-fe5c3c3d42f1
2024-09-12 15:48:38,759 - SimulatorClientRunner - ERROR - run_client_thread error: EOFError: 
2024-09-12 15:48:38,751 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00005 Not Connected] is closed PID: 31509
