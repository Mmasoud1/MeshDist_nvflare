2024-04-26 14:41:38,332 - ClientTaskWorker - INFO - ClientTaskWorker started to run
2024-04-26 14:41:38,420 - CoreCell - INFO - site1.simulate_job: created backbone external connector to tcp://localhost:41483
2024-04-26 14:41:38,420 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 ACTIVE tcp://localhost:41483] is starting
2024-04-26 14:41:38,420 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00002 127.0.0.1:50578 => 127.0.0.1:41483] is created: PID: 403
2024-04-26 14:41:42,800 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2024-04-26 14:41:43,306 - Cell - INFO - broadcast: channel='aux_communication', topic='__sync_runner__', targets=['server.simulate_job'], timeout=2.0
2024-04-26 14:41:43,436 - ClientRunner - INFO - [identity=site1, run=simulate_job]: synced to Server Runner in 0.6309444904327393 seconds
2024-04-26 14:41:43,436 - ClientRunner - INFO - [identity=site1, run=simulate_job]: client runner started
2024-04-26 14:41:43,437 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site1
2024-04-26 14:41:43,441 - Communicator - INFO - Received from simulator_server server. getTask: get_local_average_and_count size: 513B (513 Bytes) time: 0.004473 seconds
2024-04-26 14:41:43,442 - FederatedClient - INFO - pull_task completed. Task name:get_local_average_and_count Status:True 
2024-04-26 14:41:43,442 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: got task assignment: name=get_local_average_and_count, id=c411a1f9-3274-48ad-a41b-3490da561e80
2024-04-26 14:41:43,442 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: invoking task executor AverageExecutor
2024-04-26 14:41:43,444 - ClientRunner - ERROR - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: Processing error from executor AverageExecutor: FileNotFoundError: Results directory path could not be determined.
2024-04-26 14:41:43,445 - ClientRunner - ERROR - Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/nvflare/private/fed/client/client_runner.py", line 301, in _do_process_task
    reply = executor.execute(task.name, task.data, fl_ctx, abort_signal)
  File "/workspace/app/code/executor/average_executor.py", line 27, in execute
    save_results_to_file(
  File "/workspace/app/code/executor/average_executor.py", line 49, in save_results_to_file
    results_dir = get_results_dir_path(fl_ctx)
  File "/workspace/app/code/executor/average_executor.py", line 93, in get_results_dir_path
    raise FileNotFoundError(
FileNotFoundError: Results directory path could not be determined.

2024-04-26 14:41:43,445 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: try #1: sending task result to server
2024-04-26 14:41:43,445 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: checking task ...
2024-04-26 14:41:43,445 - Cell - INFO - broadcast: channel='aux_communication', topic='__task_check__', targets=['server.simulate_job'], timeout=5.0
2024-04-26 14:41:43,450 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: start to send task result to server
2024-04-26 14:41:43,450 - FederatedClient - INFO - Starting to push execute result.
2024-04-26 14:41:43,456 - Communicator - INFO -  SubmitUpdate size: 565B (565 Bytes). time: 0.005520 seconds
2024-04-26 14:41:43,456 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job, task_name=get_local_average_and_count, task_id=c411a1f9-3274-48ad-a41b-3490da561e80]: task result sent to server
2024-04-26 14:41:43,457 - ClientTaskWorker - INFO - Finished one task run for client: site1 interval: 2 task_processed: True
2024-04-26 14:41:43,457 - ClientTaskWorker - INFO - Clean up ClientRunner for : site1 
2024-04-26 14:41:43,459 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00002 Not Connected] is closed PID: 403
2024-04-26 14:41:51,336 - ClientTaskWorker - INFO - ClientTaskWorker started to run
2024-04-26 14:41:51,403 - CoreCell - INFO - site1.simulate_job: created backbone external connector to tcp://localhost:41483
2024-04-26 14:41:51,403 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connector [CH00001 ACTIVE tcp://localhost:41483] is starting
2024-04-26 14:41:51,403 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00002 127.0.0.1:60466 => 127.0.0.1:41483] is created: PID: 472
2024-04-26 14:41:54,534 - Cell - INFO - Register blob CB for channel='aux_communication', topic='*'
2024-04-26 14:41:55,039 - Cell - INFO - broadcast: channel='aux_communication', topic='__sync_runner__', targets=['server.simulate_job'], timeout=2.0
2024-04-26 14:41:55,052 - ClientRunner - INFO - [identity=site1, run=simulate_job]: synced to Server Runner in 0.5137736797332764 seconds
2024-04-26 14:41:55,053 - ClientRunner - INFO - [identity=site1, run=simulate_job]: client runner started
2024-04-26 14:41:55,053 - ClientTaskWorker - INFO - Initialize ClientRunner for client: site1
2024-04-26 14:41:55,062 - FederatedClient - INFO - pull_task completed. Task name:__end_run__ Status:True 
2024-04-26 14:41:55,063 - ClientRunner - INFO - [identity=site1, run=simulate_job, peer=simulator_server, peer_run=simulate_job]: server asked to end the run
2024-04-26 14:41:55,063 - ClientRunner - INFO - [identity=site1, run=simulate_job]: started end-run events sequence
2024-04-26 14:41:55,063 - ClientRunner - INFO - [identity=site1, run=simulate_job]: ABOUT_TO_END_RUN fired
2024-04-26 14:41:55,064 - ClientRunner - INFO - [identity=site1, run=simulate_job]: Firing CHECK_END_RUN_READINESS ...
2024-04-26 14:41:55,565 - ClientRunner - INFO - [identity=site1, run=simulate_job]: Firing CHECK_END_RUN_READINESS ...
2024-04-26 14:41:56,066 - ClientRunner - INFO - [identity=site1, run=simulate_job]: Firing CHECK_END_RUN_READINESS ...
2024-04-26 14:41:56,567 - ClientRunner - INFO - [identity=site1, run=simulate_job]: Firing CHECK_END_RUN_READINESS ...
2024-04-26 14:41:56,567 - ClientRunner - INFO - [identity=site1, run=simulate_job]: END_RUN fired
2024-04-26 14:41:56,567 - ClientTaskWorker - INFO - End the Simulator run.
2024-04-26 14:41:56,611 - ClientTaskWorker - INFO - Clean up ClientRunner for : site1 
2024-04-26 14:41:56,613 - nvflare.fuel.f3.sfm.conn_manager - INFO - Connection [CN00002 Not Connected] is closed PID: 472
